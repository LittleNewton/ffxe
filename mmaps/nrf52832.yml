# nRF52832 Platform Description

# Processor Information
# based on Unicorn and Capstone Python binding constants
cpu:
    arch    : "ARM"
    model   : "CORTEX_M4"
    mode    : [ "THUMB", "MCLASS" ]

# Memory Map
# see product spec Section 8.3 Figure 5
# note: unicorn access permissions are { read=1, write=2, exec=4 }

mmap:
    ### CODE [0x00000000, 0x1FFFFFFF]
    flash: 
        address : 0x0
        size    : 0x80000
        perms   : 0b101
    codeRAM: 
        address : 0x800000
        size    : 0x10000
        perms   : 0b101
    FICR: 
        address : 0x10000000
        size    : 0x1000
        perms   : 0b001
    UICR: 
        address : 0x10001000
        size    : 0x1000
        perms   : 0b011

    ### SRAM [0x20000000, 0x3FFFFFFF]
    dataRAM: 
        address : 0x20000000
        size    : 0x10000
        perms   : 0b011

    ### EXTERNAL RAM [0x60000000, 0x9FFFFFFF]

    ### EXTERNAL DEVICE [0xA0000000, 0xDFFFFFFF]

    ### SYSTEM [0xE0100000, 0xFFFFFFFF]
    system: 
        address : 0xF0000000
        size    : 0x10000
        perms   : 0b011

# Memory Mapped IO
# these are placeholder values
# the engine will not use them if mmio_map args are provided on init
mmio:
    ### PERIPHERAL [0x40000000, 0x5FFFFFFF]
    apbPeri: 
        address : 0x40000000
        size    : 0x27000
        perms   : 0b011
    ahbPeri: 
        address : 0x50000000
        size    : 0x1000
        perms   : 0b011

    ### PRIVATE PERIPHERAL - INTERNAL [0xE0000000, 0xE003FFFF]
    ITM: 
        address : 0xE0000000
        size    : 0x1000
        perms   : 0b011
    DWT: 
        address : 0xE0001000
        size    : 0x1000
        perms   : 0b011
    FPB: 
        address : 0xE0002000
        size    : 0x1000
        perms   : 0b011
    SCS: 
        address : 0xE000E000
        size    : 0x1000
        perms   : 0b011

    ### PRIVATE PERIPHERAL - EXTERNAL [0xE0040000, 0xE00FFFFF]
    TPIU: 
        address : 0xE0040000
        size    : 0x1000
        perms   : 0b011
    ETM: 
        address : 0xE0041000
        size    : 0x1000
        perms   : 0b011
    romtable: 
        address : 0xE00F0000
        size    : 0x10000
        perms   : 0b011

# Vector Table Info
vt:
    size: 0xdc

# Base Addr to Peripheral IDs (for mapping to NVIC)
# see section 15.8 and section 8.4 Table 11
peri:
    0x40000000 : 0    # CLOCK, POWER, BPROT
    0x40001000 : 1    # RADIO
    0x40002000 : 2    # UART0, UARTE0
    0x40003000 : 3    # SPIM0, SPIS0, TWIM0, TWI0, SPI0, TWIS0
    0x40004000 : 4    # SPIM1, SPIS1, TWIM1, TWI1, SPI1, TWIS1
    0x40005000 : 5    # NFCT
    0x40006000 : 6    # GPIOTE
    0x40007000 : 7    # SAADC
    0x40008000 : 8    # TIMER0
    0x40009000 : 9    # TIMER1
    0x4000a000 : 10   # TIMER2
    0x4000b000 : 11   # RTC0
    0x4000c000 : 12   # TEMP
    0x4000d000 : 13   # RNG
    0x4000e000 : 14   # ECB
    0x4000f000 : 15   # CCM, AAR
    0x40010000 : 16   # WDT
    0x40011000 : 17   # RTC1
    0x40012000 : 18   # QDEC
    0x40013000 : 19   # LPCOMP, COMP
    0x40014000 : 20   # SWI0, EGU0
    0x40015000 : 21   # SWI1, EGU1
    0x40016000 : 22   # SWI2, EGU2
    0x40017000 : 23   # SWI3, EGU3
    0x40018000 : 24   # SWI4, EGU4
    0x40019000 : 25   # SWI5, EGU5
    0x4001a000 : 26   # TIMER3
    0x4001b000 : 27   # TIMER4
    0x4001c000 : 28   # PWM0
    0x4001d000 : 29   # PDM
    0x4001e000 : 30   # NVMC
    0x4001f000 : 31   # PPI
    0x40020000 : 32   # MWU
    0x40021000 : 33   # PWM1
    0x40022000 : 34   # PWM2
    0x40023000 : 35   # SPI2, SPIS2, SPIM2
    0x40024000 : 36   # RTC2
    0x40025000 : 37   # I2S
    0x40026000 : 38   # FPU

